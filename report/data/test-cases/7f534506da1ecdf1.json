{"uid":"7f534506da1ecdf1","name":"获取用户权限信息","fullName":"TestCase.Api_test.test_login.Testapi#test_api1","historyId":"da7960c02495a56884f9b2f37c51d35b","time":{"start":1693984723283,"stop":1693984723288,"duration":5},"status":"broken","statusMessage":"KeyError: 'GET1'","statusTrace":"self = <TestCase.Api_test.test_login.Testapi object at 0x0000027116440580>\ndata = ['test001', '获取用户权限信息', '{\"Accept\": \"application/json, text/plain, */*\",\\n                  \"Accept-Language\": \"zh_CN\"...7.36\",\\n                  \"Content-Type\": \"application/json;charset=UTF-8\"}', 'GET1', 'prod/system/getInfo', None, ...]\napi_log = <Logger 测试 (DEBUG)>\n\n    @allure.story(\"获取用户权限api\")\n    @pytest.mark.parametrize('data', excle_read('./data/api_test.xlsx', 'Sheet2'))\n    def test_api1(self, data, api_log):\n        case_num, case_title, headers, method, url, parameter_type, request_data = data\n        api = BaseApi(api_log)\n>       result = api.api(case_num=case_num, case_title=case_title, url=url, method=method, headers=headers, parameter_type=parameter_type, request_data=request_data)\n\nTestCase\\Api_test\\test_login.py:39: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nApi\\base_api.py:84: in api\n    result = self.send_request(method, url, headers=headers, params=params, data=data, json=json_data)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <Api.base_api.BaseApi object at 0x00000271163C42E0>, method = 'GET1'\nurl = 'http://xctestadmin.xczxwe.com/prod/system/getInfo'\nheaders = {'Accept': 'application/json, text/plain, */*', 'Accept-Language': 'zh_CN', 'Authorization': 'Bearer eyJ0eXAiOiJKV1QiL...5lIjoiZGVmYXVsdCJ9.QO7HIVkwbpFQpEp2Waeb6X7qO2REZ2gSdbyTHn0qRfM', 'Content-Type': 'application/json;charset=UTF-8', ...}\nparams = None, data = None, json = None\n\n    def send_request(self, method, url, headers=None, params=None, data=None, json=None):\n        request_methods = {\n            \"GET\": requests.get,\n            \"POST\": requests.post,\n        }\n>       request_func = request_methods[method]\nE       KeyError: 'GET1'\n\nApi\\base_api.py:18: KeyError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"api_log","time":{"start":1693984723265,"stop":1693984723282,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"testStage":{"status":"broken","statusMessage":"KeyError: 'GET1'","statusTrace":"self = <TestCase.Api_test.test_login.Testapi object at 0x0000027116440580>\ndata = ['test001', '获取用户权限信息', '{\"Accept\": \"application/json, text/plain, */*\",\\n                  \"Accept-Language\": \"zh_CN\"...7.36\",\\n                  \"Content-Type\": \"application/json;charset=UTF-8\"}', 'GET1', 'prod/system/getInfo', None, ...]\napi_log = <Logger 测试 (DEBUG)>\n\n    @allure.story(\"获取用户权限api\")\n    @pytest.mark.parametrize('data', excle_read('./data/api_test.xlsx', 'Sheet2'))\n    def test_api1(self, data, api_log):\n        case_num, case_title, headers, method, url, parameter_type, request_data = data\n        api = BaseApi(api_log)\n>       result = api.api(case_num=case_num, case_title=case_title, url=url, method=method, headers=headers, parameter_type=parameter_type, request_data=request_data)\n\nTestCase\\Api_test\\test_login.py:39: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nApi\\base_api.py:84: in api\n    result = self.send_request(method, url, headers=headers, params=params, data=data, json=json_data)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <Api.base_api.BaseApi object at 0x00000271163C42E0>, method = 'GET1'\nurl = 'http://xctestadmin.xczxwe.com/prod/system/getInfo'\nheaders = {'Accept': 'application/json, text/plain, */*', 'Accept-Language': 'zh_CN', 'Authorization': 'Bearer eyJ0eXAiOiJKV1QiL...5lIjoiZGVmYXVsdCJ9.QO7HIVkwbpFQpEp2Waeb6X7qO2REZ2gSdbyTHn0qRfM', 'Content-Type': 'application/json;charset=UTF-8', ...}\nparams = None, data = None, json = None\n\n    def send_request(self, method, url, headers=None, params=None, data=None, json=None):\n        request_methods = {\n            \"GET\": requests.get,\n            \"POST\": requests.post,\n        }\n>       request_func = request_methods[method]\nE       KeyError: 'GET1'\n\nApi\\base_api.py:18: KeyError","steps":[],"attachments":[{"uid":"9f6753459fb22abb","name":"log","source":"9f6753459fb22abb.txt","type":"text/plain","size":474}],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"stepsCount":0},"afterStages":[{"name":"api_log::0","time":{"start":1693984723433,"stop":1693984723433,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"labels":[{"name":"story","value":"获取用户权限api"},{"name":"feature","value":"后台模块api"},{"name":"tag","value":"@pytest.mark.usefixtures('api_log')"},{"name":"parentSuite","value":"TestCase.Api_test"},{"name":"suite","value":"test_login"},{"name":"subSuite","value":"Testapi"},{"name":"host","value":"DESKTOP-14KMC4A"},{"name":"thread","value":"30628-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"TestCase.Api_test.test_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"data","value":"['test001', '获取用户权限信息', '{\"Accept\": \"application/json, text/plain, */*\",\\n                  \"Accept-Language\": \"zh_CN\",\\n                  \"Authorization\": \"Bearer null\",\\n                  \"Origin\": \"http://xctestadmin.xczxwe.com\",\\n                  \"Proxy-Connection\": \"keep-alive\",\\n                  \"Referer\": \"http://xctestadmin.xczxwe.com/\",\\n                  \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.0.0 Safari/537.36\",\\n                  \"Content-Type\": \"application/json;charset=UTF-8\"}', 'GET1', 'prod/system/getInfo', None, None]"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":["@pytest.mark.usefixtures('api_log')"]},"source":"7f534506da1ecdf1.json","parameterValues":["['test001', '获取用户权限信息', '{\"Accept\": \"application/json, text/plain, */*\",\\n                  \"Accept-Language\": \"zh_CN\",\\n                  \"Authorization\": \"Bearer null\",\\n                  \"Origin\": \"http://xctestadmin.xczxwe.com\",\\n                  \"Proxy-Connection\": \"keep-alive\",\\n                  \"Referer\": \"http://xctestadmin.xczxwe.com/\",\\n                  \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.0.0 Safari/537.36\",\\n                  \"Content-Type\": \"application/json;charset=UTF-8\"}', 'GET1', 'prod/system/getInfo', None, None]"]}